<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <h1>api muito loka do bartheeeerrrr</h1>

    <br />
    <div id="informacao"></div>
    <table class="table table-dark table-striped">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>E-mail</th>
        <th>Senha</th>
        <th>NÃ­vel</th>
        <th>Data</th>
      </tr>
      <tr>
          <td id="id"></td>
          <td id="nome"></td>
          <td id="email"></td>
          <td id="senha"></td>
          <td id="nivel"></td>
          <td id="data"></td>
          <td id="message"></td>
      </tr>
    </table>

    <br />

    <button onclick="showBarthTroppers()">Mostrar as Tropas</button>
    <script type="application/javascript">
        var elemId = document.getElementById('id');
        var elemNome = document.getElementById('nome');
        var elemEmail = document.getElementById('email');
        var elemSenha = document.getElementById('senha')
        var elemNivel = document.getElementById('nivel');
        var elemIdData = document.getElementById('data');
        var elemMessage = document.getElementById('message');
        function showBarthTroppers(){
            var xhr = new XMLHttpRequest();
            xhr.open('GET','https://www.barth.com.br/project2MJA/usuarios/verificarUsuario.php?email=admin@admin.com&senha=1234');
            xhr.send(null);
            xhr.onreadystatechange = () => {
            if(xhr.readyState === 4){
                var response = JSON.parse(xhr.responseText);
                console.log(response)
                elemId.innerText = response.id;
                elemNome.innerText = response.nome;
                elemEmail.innerText = response.email; 
                elemSenha.innerText = response.senha;
                elemNivel.innerText = response.nivel; 
                elemIdData.innerText = response.data;
                elemMessage = response.message;
                }
            }
        }

    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
